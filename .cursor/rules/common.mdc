---
alwaysApply: true
---
# 通用开发规范

## 1. 项目结构

项目采用 Monorepo 结构，包含3个子项目：
- **admin/** - 前端管理界面（React + UmiJS + Ant Design），端口 6806
- **server/** - 后端API服务（Go + Gin + GORM），端口 6808
- **proxy/** - 代理服务（Go），端口 6800

## 2. 交互规范

- 交互全程使用中文交流
- 当需要对代码进行修改时，必须先暂停操作，用条理化的方式描述你的方案（描述过程不需要代码演示），等待明确确认后，才能实施具体修改
- 修改结束后仅需在对话中生成最终总结，不要生成中间过程文档
- 只实现当前需求必要的功能
- 不需要写兼容性强的代码，除非特别要求

## 3. 接口文档规范

- 接口改动后需更新对应 `docs/` 目录下的接口文档
- 接口文档按模块划分目录，一个接口对应一个文档文件
- 包含请求参数、响应格式、错误码说明

## 4. Go 语言通用规范（server、proxy）

### 4.1 代码组织
- 文件顶部必须包含包说明注释
- 单个文件不超过300行，超出需拆分
- 遵循 Go 标准项目布局：`cmd/`、`internal/`、`configs/`

### 4.2 命名规范
- 包名：小写，简短，无下划线或驼峰
- 函数/变量：驼峰命名，公开首字母大写
- 常量：全大写，下划线分隔

### 4.3 错误处理
- 所有可能出错的函数必须返回 error
- 错误信息使用中文，清晰明确
- 使用 `errors.New()` 或 `fmt.Errorf()` 创建错误
- 不忽略错误，必须处理或向上传递

 